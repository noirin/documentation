<?xml version="1.0" encoding="UTF-8"?>
<!--This work by Eucalyptus Systems is licensed under a Creative Commons Attribution-ShareAlike 3.0 Unported License. See the accompanying LICENSE file for more information.-->
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept outputclass="docs one-sidebar sidebar-first" id="configuration_options">
 <title>Understanding Configuration Options</title>
 <shortdesc></shortdesc>
 <conbody>
 	<p>All network-related options specified in /etc/eucalyptus/eucalyptus.conf use the prefix VNET_.
 	The most commonly used VNET options are described in the following table.</p>
 	<table>
 		<tgroup cols="3">
 			<thead>
 				<row>
 					<entry>Option</entry>
 					<entry>Description</entry>
 					<entry>Modes</entry>
 				</row>
 			</thead>
 			<tbody>
 				<row>
 					<entry><codeph>VNET_MODE</codeph></entry>
 					<entry>The networking mode you want for your system: <codeph>MANAGED</codeph>, <codeph>MANAGED-NOVLAN</codeph>, <codeph>STATIC</codeph>, <codeph>SYSTEM</codeph>. This option has to be defined on both CC and NC.</entry>
 					<entry>All</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_DNS</codeph></entry>
 					<entry>This option is used to specify a nameserver available on your network. You must specify
 						DNS as an IP address. Example: <codeph>VNET_DNS="173.205.188.129"</codeph></entry>
 					<entry>Static, Managed, Managed (No VLAN)
 					</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_SUBNET, VNET_NETMASK</codeph></entry>
 					<entry>These options control the internal private network used by VMs within Eucalyptus. NET_SUBNET should be set to an IP subnet that is free for eucalyptus to use (i.e. no other system connected to your network directly is configured with addresses from this subnet). <codeph>VNET_NETMASK</codeph> defines the size of the subnet. </entry>
 					<entry>Static, Managed, Managed (No VLAN)
 					</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_BROADCAST, VNET_ROUTER
 					</codeph></entry>
 					<entry>These options provide routing information for the internal private network used by VMs within Eucalyptus. </entry>
 					<entry>Static</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_MACMAP</codeph></entry>
 					<entry>This option is used to specify a list of mac address/IP address mappings that you would
 						like to be allocated to VMs at runtime. Example: <codeph>VNET_MACMAP="AA:DD:11:CE:FF:ED=192.168.1.2 AA:DD:11:CE:FF:EE=192.168.1.3"</codeph>   
 					</entry>
 					<entry>Static</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_MACPREFIX</codeph></entry>
 					<entry>This option is used to specify a prefix for MAC addresses generated by Eucalyptus for
 						VM instances. The prefix has to be in the form <codeph>HH:HH</codeph> where H is a
 						hexadecimal digit. Example: <codeph>VNET_MACPREFIX="D0:D0"</codeph></entry>
 					<entry>System, Managed, Managed (No VLAN)
 					</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_ADDRESSPERNET</codeph></entry>

 					<entry>This option controls how many VM instances may simultaneously be part of an individual
 						user's security group. This option is set to a power of 2 (16, 24, 32, 64, etc,) but it should never be less than 8 and it cannot be larger than: (the total number of available IP addresses - 2).

 						<p>This option is used with VNET_NETMASK to determine how the IP addresses that are available to
 						VMs are distributed among security groups. VMs within a single security group can communicate directly. Communication between VMs within a security group and clients or VMs in other security groups is controlled by a set of firewall rules. For example, setting</p>
 						<codeblock>VNET_NETMASK="255.255.0.0"
VNET_ADDRESSPERNET="32"</codeblock>
 						<p>defines a netmask of 255.255.0.0 that uses 16 bits of the IP address to specify a network
 							number. The remaining 16 bits specify valid IP addresses for that network meaning that 2^16
 							= 65536 IP addresses are assignable on the network.  Setting <codeph>VNET_ADDRESSPERNET="32"</codeph> tells Eucalyptus that each security group can have at most 32 VMs in it (each VM getting its own IP address). Further, it stipulates that at most 2046 security groups can be active at the same time since 65536 / 32 = 2048. Eucalyptus reserves two security groups for its own use.</p>
 					<p>	In addition to subnets at Layer 3, Eucalyptus uses VLANs at Layer 2 in the networking stack to ensure isolation (Managed mode only). </p>
 					</entry>
 					<entry>Managed, Managed (No VLAN)</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_PUBLICIPS</codeph></entry>
 					<entry>This option provides a list or range of elastic IP addresses available for VMs.  For
 						example, <codeph>173.205.188.45 173.205.188.46 173.205.188.47</codeph> specifies that Eucalyptus will assign one of three elastic IP addresses to any VM that starts when it starts.  In this example, if three VMs are running and a fourth is started, it will not be given an elastic IP address since the pool of addresses is exhausted.
 						<p>In the following example, Eucalyptus will draw elastic IP addresses from a poll of 254 in the range of 173.205.188.140 to 173.205.188.254.</p>
 						<codeblock>VNET_PUBLICIPS="173.205.188.140-173.205.188.254"</codeblock>
 					</entry>
 					<entry>Managed, Managed (No-VLAN)
 					</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_LOCALIP</codeph></entry>
 					<entry>In the case where Eucalyptus components are hosted on physical servers with several network interfaces, it is sometimes necessary to specify which IP address a component should use as its IP address when it registers with the installation. Each component will attempt to autodiscover this address. You can override the autodiscover feature with the value you enter in the <codeph>VNET_LOCALIP</codeph> parameter.</entry>
 					<entry>Managed, Managed (No-VLAN)
 					</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_DHCPDAEMON, VNET_DHCPUSER</codeph></entry>
 					<entry>These options are used to control DHCP server managed by Eucalyptus. <codeph>VNET_DHCPDAEMON</codeph> defines the path to the DHCP daemon command line-compatible binary. <codeph>VNET_DHCPUSER</codeph> is the name of the user that DHCP daemon is configured to run as.</entry>
 					<entry>Static, Managed, Managed (No VLAN)</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_PUBINTERFACE</codeph></entry>
 					<entry>When the CC is to act as a software gateway, you must specify which physical network interface on the CC machine is attached to the public network. This option is also used on NC in Managed mode and should be set to the name of the ethernet device that is connected to the local internet.</entry>
 					<entry>Managed, Managed (No VLAN)
 					</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_PRIVINTERFACE</codeph></entry>
 					<entry>When the CC is acting as a software gateway, you must specify which physical network interface on the CC machine is to be use to implement the private network subnets used by VMs. Used with <codeph>VNET_PUBINTERFACE</codeph>.</entry>
 					<entry>Managed, Managed (No VLAN)</entry>
 				</row>
 				<row>
 					<entry><codeph>VNET_BRIDGE</codeph></entry>
 					<entry>This option is used on the NC and should be set to the name of the bridge device that is connected to the local internet. Make sure that what you are specifying in this field is actually a bridge, and that it is the bridge that is connected to an Ethernet network that has a DHCP server running elsewhere that is configured to hand out IP addresses dynamically.</entry>
 					<entry>System, Managed, Managed (No VLAN)
 					</entry>
 				</row>
 			</tbody>
 		</tgroup>
 	</table>
 </conbody>
</concept>
